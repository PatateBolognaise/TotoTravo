<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TotoTravo - Analyse IA de R√©novation</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-hammer"></i>
                    <h1>TotoTravo</h1>
                </div>
                <nav class="nav">
                    <button class="tab-btn active" data-tab="questionnaire">Questionnaire</button>
                    <button class="tab-btn" data-tab="upload">Upload</button>
                    <button class="tab-btn" data-tab="results">R√©sultats</button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Questionnaire Section -->
            <section id="questionnaireSection" class="section active">
                <div class="questionnaire-container">
                    <div class="questionnaire-header">
                        <h2>üéØ Questionnaire Personnalis√©</h2>
                        <p>R√©pondez √† quelques questions pour personnaliser votre analyse</p>
                    </div>
                    
                    <form id="questionnaireForm" class="questionnaire-form">
                        <!-- Question 1 -->
                        <div class="question" data-question="1">
                            <h3>1. Quel est votre niveau en bricolage ?</h3>
                            <div class="options">
                                <label class="radio-option">
                                    <input type="radio" name="niveau_bricolage" value="debutant" required>
                                    <span class="radio-custom"></span>
                                    <span class="option-label">D√©butant</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="niveau_bricolage" value="intermediaire">
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Interm√©diaire</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="niveau_bricolage" value="expert">
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Expert</span>
                                </label>
                            </div>
                        </div>

                        <!-- Question 2 -->
                        <div class="question" data-question="2" style="display: none;">
                            <h3>2. Quel est votre budget ?</h3>
                            <div class="options">
                                <label class="radio-option">
                                    <input type="radio" name="budget" value="serre" required>
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Budget serr√©</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="budget" value="moyen">
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Budget moyen</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="budget" value="confortable">
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Budget confortable</span>
                                </label>
                            </div>
                        </div>

                        <!-- Question 3 -->
                        <div class="question" data-question="3" style="display: none;">
                            <h3>3. Quel d√©lai souhaitez-vous ?</h3>
                            <div class="options">
                                <label class="radio-option">
                                    <input type="radio" name="delai" value="urgent" required>
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Urgent</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="delai" value="normal">
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Normal</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="delai" value="flexible">
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Flexible</span>
                                </label>
                            </div>
                        </div>

                        <!-- Question 4 -->
                        <div class="question" data-question="4" style="display: none;">
                            <h3>4. Quel niveau d'implication souhaitez-vous ?</h3>
                            <div class="options">
                                <label class="radio-option">
                                    <input type="radio" name="implication" value="complete" required>
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Implication compl√®te</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="implication" value="partielle">
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Implication partielle</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="implication" value="minimale">
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Implication minimale</span>
                                </label>
                            </div>
                        </div>

                        <!-- Question 5 -->
                        <div class="question" data-question="5" style="display: none;">
                            <h3>5. Quel type de projet ?</h3>
                            <div class="options">
                                <label class="radio-option">
                                    <input type="radio" name="type_projet" value="renovation" required>
                                    <span class="radio-custom"></span>
                                    <span class="option-label">R√©novation compl√®te</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="type_projet" value="amelioration">
                                    <span class="radio-custom"></span>
                                    <span class="option-label">Am√©lioration</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="type_projet" value="reparation">
                                    <span class="radio-custom"></span>
                                    <span class="option-label">R√©paration</span>
                                </label>
                            </div>
                        </div>

                        <div class="questionnaire-actions">
                            <button type="button" id="prevBtn" class="btn-secondary" style="display: none;">Pr√©c√©dent</button>
                            <button type="button" id="nextBtn" class="btn-primary">Suivant</button>
                            <button type="button" id="finishBtn" class="btn-primary" style="display: none;">Terminer</button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Upload Section -->
            <section id="uploadSection" class="section">
                <div class="upload-container">
                    <div class="upload-header">
                        <h2>üì∏ Upload de vos Images</h2>
                        <p>Ajoutez jusqu'√† 5 photos de votre projet pour une analyse pr√©cise</p>
                    </div>
                    
                    <div class="upload-area" id="uploadArea">
                        <div class="upload-content">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <h3>Glissez vos images ici</h3>
                            <p>ou cliquez pour s√©lectionner</p>
                            <input type="file" id="fileInput" multiple accept="image/*" style="display: none;">
                        </div>
                    </div>
                    
                    <div class="image-preview" id="imagePreview"></div>
                    
                    <div class="description-section">
                        <label for="description">Description du projet (optionnel)</label>
                        <textarea id="description" placeholder="D√©crivez votre projet, vos objectifs, contraintes particuli√®res..."></textarea>
                    </div>
                    
                    <button id="analyzeBtn" class="btn-primary" disabled>
                        <i class="fas fa-magic"></i>
                        Analyser avec IA
                    </button>
                </div>
            </section>

            <!-- Loading Section -->
            <section id="loadingSection" class="section" style="display: none;">
                <div class="loading-container">
                    <div class="loading-content">
                        <div class="loading-spinner">
                            <i class="fas fa-cog fa-spin"></i>
                        </div>
                        <div class="loading-text">
                            <h2>ü§ñ IA en cours d'analyse...</h2>
                            <p>Analyse de vos images et g√©n√©ration de l'estimation</p>
                            <div class="loading-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Results Section -->
            <section id="resultsSection" class="section" style="display: none;">
                <div class="results-container">
                    <!-- Le contenu sera g√©n√©r√© dynamiquement -->
                </div>
                
                <div class="results-actions">
                    <button id="newAnalysisBtn" class="btn-secondary">
                        <i class="fas fa-redo"></i>
                        Nouvelle Analyse
                    </button>
                </div>
            </section>
        </div>
    </main>

    <!-- Chatbot -->
    <div class="chatbot" id="chatbot">
        <div class="chatbot-header">
            <h3><i class="fas fa-robot"></i> Assistant IA</h3>
            <button id="chatbotClose" class="chatbot-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="message bot">
                <i class="fas fa-robot"></i>
                <div class="message-content">
                    <p>Bonjour ! Je suis votre assistant IA pour la r√©novation. Comment puis-je vous aider ?</p>
                </div>
            </div>
        </div>
        <div class="chatbot-input">
            <input type="text" id="chatInput" placeholder="Posez votre question...">
            <button id="sendChatBtn">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- Chatbot Toggle -->
    <button id="chatbotToggle" class="chatbot-toggle">
        <i class="fas fa-comments"></i>
    </button>

    <!-- Scripts -->
    <script src="script.js"></script>
</body>
</html>
